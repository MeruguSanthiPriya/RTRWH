{% extends "base_results.html" %}
{% block title %}Water Purification - {{ super() }}{% endblock %}

{% block content %}
<!-- Purification Plan -->
<div class="report-card animate-fadeInUp" id="purification">
  <div class="section-header">
    <div class="section-icon">
      <i class="fas fa-filter"></i>
    </div>
    <h2 class="section-title">Water Purification Plan</h2>
  </div>

  <div class="info-item">
    <div class="icon"><i class="fas fa-info-circle"></i></div>
    <div class="label">Treatment Sequence</div>
    <div class="value">
      <ol class="treatment-sequence">
        {% for step in analysis.purification.treatment_sequence %}
        <li>{{ step }}</li>
        {% endfor %}
      </ol>
    </div>
  </div>

  <div class="info-item">
    <div class="icon"><i class="fas fa-tools"></i></div>
    <div class="label">Maintenance Schedule</div>
    <div class="value">{{ analysis.purification.maintenance_schedule }}</div>
  </div>

  <div class="info-item">
    <div class="icon"><i class="fas fa-rupee-sign"></i></div>
    <div class="label">Estimated Treatment System Cost</div>
    <div class="value">₹{{ analysis.purification.estimated_cost }}</div>
  </div>
</div>

<!-- Water Quality Guidelines -->
<div class="report-card animate-slideInLeft">
  <div class="section-header">
    <div class="section-icon">
      <i class="fas fa-flask"></i>
    </div>
    <h2 class="section-title">Water Quality Standards</h2>
  </div>

  <div class="quality-standards">
    <div class="standard-item">
      <h4>Drinking Water (IS 10500:2012)</h4>
      <ul>
        <li>pH: 6.5 - 8.5</li>
        <li>Turbidity: < 1 NTU</li>
        <li>Total Dissolved Solids: < 500 mg/L</li>
        <li>Bacterial Count: 0 CFU/100mL</li>
      </ul>
    </div>

    <div class="standard-item">
      <h4>Garden/Irrigation Use</h4>
      <ul>
        <li>pH: 6.0 - 8.0</li>
        <li>Turbidity: < 5 NTU</li>
        <li>No bacterial contamination</li>
      </ul>
    </div>
  </div>
</div>

<!-- Purification Methods -->
<div class="report-card animate-slideInRight">
  <div class="section-header">
    <div class="section-icon">
      <i class="fas fa-cogs"></i>
    </div>
    <h2 class="section-title">Recommended Purification Methods</h2>
  </div>

  <div class="methods-grid">
    <div class="method-card">
      <div class="icon"><i class="fas fa-filter"></i></div>
      <h4>Sedimentation</h4>
      <p>Allows suspended particles to settle naturally</p>
    </div>

    <div class="method-card">
      <div class="icon"><i class="fas fa-sun"></i></div>
      <h4>Solar Disinfection (SODIS)</h4>
      <p>UV rays from sunlight kill pathogens</p>
    </div>

    <div class="method-card">
      <div class="icon"><i class="fas fa-tablets"></i></div>
      <h4>Chlorination</h4>
      <p>Adds chlorine tablets to disinfect water</p>
    </div>

    <div class="method-card">
      <div class="icon"><i class="fas fa-leaf"></i></div>
      <h4>Filtration</h4>
      <p>Removes particles using sand/charcoal filters</p>
    </div>
  </div>
</div>

<style>
.treatment-sequence {
  padding-left: 1.5rem;
}

.treatment-sequence li {
  margin-bottom: 0.5rem;
  color: #e2e8f0;
}

.quality-standards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.standard-item {
  background: rgba(255, 255, 255, 0.05);
  padding: 1.5rem;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
}

.standard-item h4 {
  color: #22d3ee;
  margin-bottom: 1rem;
}

.standard-item ul {
  list-style: none;
  padding: 0;
}

.standard-item li {
  color: #e2e8f0;
  margin-bottom: 0.5rem;
  padding-left: 1rem;
  position: relative;
}

.standard-item li:before {
  content: "•";
  color: #22d3ee;
  position: absolute;
  left: 0;
}

.methods-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1rem;
}

.method-card {
  background: rgba(255, 255, 255, 0.05);
  padding: 1.5rem;
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);
  text-align: center;
}

.method-card .icon {
  font-size: 2rem;
  color: #22d3ee;
  margin-bottom: 1rem;
}

.method-card h4 {
  color: #ffffff;
  margin-bottom: 0.5rem;
}

.method-card p {
  color: #e2e8f0;
  font-size: 0.9rem;
}
</style>
{% endblock %}